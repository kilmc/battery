/* eslint-env jest, node */

import { HTMLParser } from './parsers';

const sampleHTML = '<div id="root"><div class="wrapper"><div><nav class="nav"><div class="nav-links"><a class="nav-link nav-link--active" aria-current="true" href="/2017/top-albums">Top Albums</a><a class="nav-link" aria-current="false" href="/2017/top-songs">Top Songs</a></div><div class="toggle-buttons"><button class="toggle-button"><span>Show</span><span class="toggle-state">2017 Releases</span></button><button class="toggle-button"><span>View</span><span class="toggle-state">Designy</span></button></div></nav><div class="section__header"><h2><span class="section__year">2017</span><span class="section__title">Top<button class="section__number">10</button>Albums</span></h2></div><section class="top-albums "><ol class="album-list"><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="1">1</span><img src="artwork/what-now.jpg" alt="Album artwork for What Now by Sylvan Esso"></div><div><h3 class="album-title-artist"><span class="album-title ">What Now</span><span class="album-artist">Sylvan Esso</span></h3><span class="album-release-date">April 28, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="2">2</span><img src="artwork/a-black-mile-to-the-surface.jpg" alt="Album artwork for A Black Mile to the Surface by Manchester Orchestra"></div><div><h3 class="album-title-artist"><span class="album-title ">A Black Mile to the Surface</span><span class="album-artist">Manchester Orchestra</span></h3><span class="album-release-date">July 29, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="3">3</span><img src="artwork/after-laughter.jpg" alt="Album artwork for After Laughter by Paramore"></div><div><h3 class="album-title-artist"><span class="album-title ">After Laughter</span><span class="album-artist">Paramore</span></h3><span class="album-release-date">May 12, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="4">4</span><img src="artwork/stealing-the-covers.jpg" alt="Album artwork for Stealing the Covers by Teenage Bottlerocket"></div><div><h3 class="album-title-artist"><span class="album-title ">Stealing the Covers</span><span class="album-artist">Teenage Bottlerocket</span></h3><span class="album-release-date">July 14, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="5">5</span><img src="artwork/stranger-in-the-alps.jpg" alt="Album artwork for Strangers in the Alps by Phoebe Bridgers"></div><div><h3 class="album-title-artist"><span class="album-title ">Strangers in the Alps</span><span class="album-artist">Phoebe Bridgers</span></h3><span class="album-release-date">September 14, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="6">6</span><img src="artwork/polygondwanaland.jpg" alt="Album artwork for Polygondwanaland by King Gizzard &amp; The Lizard Wizard"></div><div><h3 class="album-title-artist"><span class="album-title word-break">Polygondwanaland</span><span class="album-artist">King Gizzard &amp; The Lizard Wizard</span></h3><span class="album-release-date">November 7, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="7">7</span><img src="artwork/heartbreak-hits.jpg" alt="Album artwork for Heartbreak Hits by Theo Katzman"></div><div><h3 class="album-title-artist"><span class="album-title ">Heartbreak Hits</span><span class="album-artist">Theo Katzman</span></h3><span class="album-release-date">January 6, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="8">8</span><img src="artwork/ti-amo.jpg" alt="Album artwork for Ti Amo by Phoenix"></div><div><h3 class="album-title-artist"><span class="album-title ">Ti Amo</span><span class="album-artist">Phoenix</span></h3><span class="album-release-date">June 9, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="9">9</span><img src="artwork/outrage-is-now.jpg" alt="Album artwork for Outrage is now by Death From Above 1979"></div><div><h3 class="album-title-artist"><span class="album-title ">Outrage is now</span><span class="album-artist">Death From Above 1979</span></h3><span class="album-release-date">September 8, 2017</span></div></li><li class="album-list__item"><div class="album-artwork"><span class="album-rank blorp" data-rank="10">10</span><img src="artwork/war-moans.jpg" alt="Album artwork for War Moans by Mutoid Man"></div><div><h3 class="album-title-artist"><span class="album-title ">War Moans</span><span class="album-artist">Mutoid Man</span></h3><span class="album-release-date">June 2, 2017</span></div></li></ol></section></div></div></div>';

describe('HTMLParser', () => {
  it('should extract all classes from the source HTML', () => {
    expect(HTMLParser(sampleHTML)).toEqual(['wrapper', 'nav', 'nav-links', 'nav-link', 'nav-link--active', 'toggle-buttons', 'toggle-button', 'toggle-state', 'section__header', 'section__year', 'section__title', 'section__number', 'top-albums', 'album-list', 'album-list__item', 'album-artwork', 'album-rank', 'blorp', 'album-title-artist', 'album-title', 'album-artist', 'album-release-date', 'word-break']);
  });
});
